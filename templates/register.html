{%extends 'layout.html'%}

{% block body %}
{% if session.logged_in %}
  <div class="accessErrorMessage">You are already registered</div>
{% else %}
  <div class="register-container">
    <h1 class="pageHeader">Register</h1>
    <div class="pageInstructions">* All fields required</div>
    <div class="register-form">
      <form method="POST" action="">
        {{ form.csrf_token }}
        <div class="form-group">
          <dt>{{ form.name.label }}
          {{ form.name(class_="form-control") | safe }}
        </div>
        {% if form.name.errors %}
          <ul class="errors">{% for error in form.name.errors %}<li>{{ error }}</li>{% endfor %}</ul>
        {% endif %}

        <div class="form-group">
          <dt>{{ form.email.label }}
            {{ form.email(class_="form-control") | safe }}
        </div>
        {% if form.email.errors %}
          <ul class="errors">{% for error in form.email.errors %}<li>{{ error }}</li>{% endfor %}</ul>
        {% endif %}

        <div class="form-group">
          <dt>{{ form.password.label }}
          {{ form.password(class_="form-control") | safe }}
        </div>
        {% if form.password.errors %}
          <ul class="errors">{% for error in form.password.errors %}<li>{{ error }}</li>{% endfor %}</ul>
        {% endif %}

        <div class="form-group">
          <dt>{{ form.confirm.label }}
          {{ form.confirm(class_="form-control") | safe }}
        </div>
        {% if form.confirm.errors %}
          <ul class="errors">{% for error in form.confirm.errors %}<li>{{ error }}</li>{% endfor %}</ul>
        {% endif %}

        <div class="form-group">
          {{ form.recaptcha(class_="form-control") }}
        </div>
        {% if form.recaptcha.errors %}
          <ul class="errors">{% for error in form.recaptcha.errors %}<li>reCAPTCHA field must be completed</li>{% endfor %}</ul>
        {% endif %}

        <p><input type="submit" class="btn btn-primary" value="Register" /></p>
        <br />
      </form>
    </div>
  </div>
{% endif %}
{% endblock %}
