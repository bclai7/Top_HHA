{%extends 'layout.html'%}

{% block body %}
{% if session.logged_in %}
  <p>You are already registered</p>
{% else %}
  <div class="register-form">
    <h1>Register</h1>
    <form method="POST" action="">
      {% from 'includes/_formhelpers.html' import render_field %}
      <div class="form-group">
        <dt>{{ form.name.label }}
        {{render_field(form.name, class_="form-control")}}
      </div>
      {% if form.name.errors %}
        <ul class="errors">{% for error in form.name.errors %}<li>{{ error }}</li>{% endfor %}</ul>
      {% endif %}

      <div class="form-group">
        <dt>{{ form.email.label }}
        {{render_field(form.email, class_="form-control")}}
      </div>
      {% if form.email.errors %}
        <ul class="errors">{% for error in form.email.errors %}<li>{{ error }}</li>{% endfor %}</ul>
      {% endif %}

      <div class="form-group">
        <dt>{{ form.password.label }}
        {{render_field(form.password, class_="form-control")}}
      </div>
      {% if form.password.errors %}
        <ul class="errors">{% for error in form.password.errors %}<li>{{ error }}</li>{% endfor %}</ul>
      {% endif %}

      <div class="form-group">
        <dt>{{ form.confirm.label }}
        {{render_field(form.confirm, class_="form-control")}}
      </div>
      {% if form.confirm.errors %}
        <ul class="errors">{% for error in form.confirm.errors %}<li>{{ error }}</li>{% endfor %}</ul>
      {% endif %}

      <p><input type="submit" class="btn btn-primary" value="Register" /></p>
      <br />
    </form>
  </div>
{% endif %}
{% endblock %}
